<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XML Schema Visualization (FIU goAML Specification)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    ul {
      list-style-type: none;
      padding-left: 20px;
      margin: 0;
    }
    li {
      cursor: pointer;
      margin: 2px 0;
      position: relative;
    }
    /* Caret for expandable nodes */
    li.toggle::before {
      content: "\25B6"; /* Right arrow */
      display: inline-block;
      width: 1em;
      margin-left: -1em;
      padding-right: 5px;
    }
    li.toggle.open::before {
      content: "\25BC"; /* Down arrow */
    }
    .hidden {
      display: none;
    }
    /* Styling for keys and lookup values */
    .required {
      color: red;
      font-weight: bold;
    }
    .optional {
      color: blue;
    }
    .lookup {
      color: green;
    }
    .key {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>XML Schema Visualization (FIU goAML Specification)</h2>
  <ul class="tree">
    <li class="toggle">report
      <ul class="hidden">
        <li><span class="key required">rentity_id:</span> <span>1002345</span> (Integer) - Reporting Entity ID</li>
        <li><span class="key optional">rentity_branch:</span> <span>"Berlin Main Branch"</span></li>
        <li><span class="key required">submission_code:</span> <span class="lookup">"E"</span> (submission_type) - Electronically submitted</li>
        <li><span class="key required">report_code:</span> <span class="lookup">"VMT"</span> (report_type) - Report with transaction</li>
        <li><span class="key required">entity_reference:</span> <span>"REF-2025-001"</span></li>
        <li><span class="key optional">fiu_ref_number:</span> <span>"FIU-2025-XYZ"</span></li>
        <li><span class="key required">submission_date:</span> <span>"2025-03-25T14:30:00"</span></li>
        <li><span class="key required">currency_code_local:</span> <span class="lookup">"EUR"</span> (currency_type)</li>
        <li class="toggle">reporting_entity <span class="optional">(Opt.)</span>
          <ul class="hidden">
            <li><span class="key required">entity_id:</span> <span>1002345</span></li>
            <li><span class="key optional">branch:</span> <span>"Berlin Main Branch"</span></li>
            <!-- incorporation_country_code as per the PDF -->
            <li><span class="key required">incorporation_country_code:</span> <span class="lookup">"DE"</span> (country_type)</li>
            <li><span class="key required">country_code:</span> <span class="lookup">"DE"</span> (country_type)</li>
          </ul>
        </li>
        <li class="toggle">reporting_person <span class="optional">(Opt.)</span>
          <ul class="hidden">
            <li><span class="key required">first_name:</span> <span>"John"</span></li>
            <li><span class="key required">last_name:</span> <span>"Doe"</span></li>
            <li><span class="key optional">email:</span> <span>"john.doe@example.com"</span></li>
          </ul>
        </li>
        <li class="toggle">location <span class="optional">(Opt.)</span>
          <ul class="hidden">
            <li><span class="key required">address_type:</span> <span class="lookup">"1"</span> (contact_type) - Business</li>
            <li><span class="key required">address:</span> <span>"Friedrichstraße 123"</span></li>
            <li><span class="key required">city:</span> <span>"Berlin"</span></li>
            <li><span class="key optional">zip:</span> <span>"10117"</span></li>
            <li><span class="key required">country_code:</span> <span class="lookup">"DE"</span> (country_type)</li>
          </ul>
        </li>
        <!-- The official specification uses the fields 'reason' and 'action' (repurposed fields) -->
        <li><span class="key optional">reason:</span> <span>"Suspicious transaction with unclear origin."</span></li>
        <li><span class="key optional">action:</span> <span>"Pending further investigation."</span></li>
        <li class="toggle">transaction <span class="required">(Multiple)</span>
          <ul class="hidden">
            <!-- Transaction 1 -->
            <li class="toggle">transaction
              <ul class="hidden">
                <li><span class="key required">transactionnumber:</span> <span>"TXN-2025-56789"</span></li>
                <li><span class="key optional">internal_ref_number:</span> <span>"BANK-REF-987654"</span></li>
                <li><span class="key optional">transaction_location:</span> <span>"Berlin ATM 005"</span></li>
                <li><span class="key optional">transaction_description:</span> <span>"Large cash deposit without declared source"</span></li>
                <li><span class="key required">date_transaction:</span> <span>"2025-03-24T10:15:00"</span></li>
                <li><span class="key required">transmode_code:</span> <span class="lookup">"1"</span> (conduction_type) - Electronic</li>
                <li><span class="key required">amount_local:</span> <span>"50000.00"</span></li>
                <li class="toggle">t_from_my_client
                  <ul class="hidden">
                    <li><span class="key required">from_funds_code:</span> <span class="lookup">"3"</span> (funds_type) - Cash</li>
                    <li class="toggle">from_foreign_currency <span class="optional">(Opt.)</span>
                      <ul class="hidden">
                        <li><span class="key required">foreign_currency_code:</span> <span class="lookup">"USD"</span> (currency_type)</li>
                        <li><span class="key required">foreign_amount:</span> <span>"53000.00"</span></li>
                        <li><span class="key required">foreign_exchange_rate:</span> <span>"1.06"</span></li>
                      </ul>
                    </li>
                    <li class="toggle">from_person (t_person_my_client)
                      <ul class="hidden">
                        <li><span class="key required">gender:</span> <span class="lookup">"M"</span> (gender_type)</li>
                        <li><span class="key required">first_name:</span> <span>"Michael"</span></li>
                        <li><span class="key optional">middle_name:</span> <span>"James"</span></li>
                        <li><span class="key required">last_name:</span> <span>"Schmidt"</span></li>
                        <li><span class="key required">birthdate:</span> <span>"1980-05-10"</span></li>
                        <li><span class="key required">nationality1:</span> <span class="lookup">"DE"</span> (country_type) - Germany</li>
                        <li><span class="key optional">nationality2:</span> <span>"US"</span></li>
                        <li><span class="key required">residence:</span> <span class="lookup">"DE"</span> (country_type) - Germany</li>
                        <li><span class="key required">occupation:</span> <span>"Business Owner"</span></li>
                        <li><span class="key optional">employer_name:</span> <span>"Schmidt GmbH"</span></li>
                        <li class="toggle">identification (t_person_identification)
                          <ul class="hidden">
                            <li><span class="key required">type:</span> <span class="lookup">"2"</span> (identifier_type) - Passport</li>
                            <li><span class="key required">number:</span> <span>"C1234567"</span></li>
                            <li><span class="key required">issue_country:</span> <span class="lookup">"DE"</span> (country_type)</li>
                          </ul>
                        </li>
                        <li class="toggle">phones (Multiple)
                          <ul class="hidden">
                            <li><span class="key required">tph_contact_type:</span> <span class="lookup">"1"</span> (contact_type) - Business</li>
                            <li><span class="key required">tph_number:</span> <span>"+49-170-1234567"</span></li>
                          </ul>
                        </li>
                        <li class="toggle">addresses (Multiple)
                          <ul class="hidden">
                            <li><span class="key required">address_type:</span> <span class="lookup">"1"</span> (contact_type) - Business</li>
                            <li><span class="key required">address:</span> <span>"Ludwigstraße 5"</span></li>
                            <li><span class="key required">city:</span> <span>"Frankfurt"</span></li>
                            <li><span class="key required">country_code:</span> <span class="lookup">"DE"</span></li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li><span class="key required">from_country:</span> <span class="lookup">"DE"</span> (country_type)</li>
                  </ul>
                </li>
                <li class="toggle">t_to_my_client
                  <ul class="hidden">
                    <li><span class="key required">to_funds_code:</span> <span class="lookup">"1"</span> (funds_type) - Account</li>
                    <li class="toggle">to_account (t_account_my_client)
                      <ul class="hidden">
                        <li><span class="key required">institution_name:</span> <span>"Deutsche Bank"</span></li>
                        <li><span class="key required">branch:</span> <span>"Berlin"</span></li>
                        <li><span class="key required">account:</span> <span>"DE12345678901234567890"</span></li>
                        <li><span class="key required">currency_code:</span> <span class="lookup">"EUR"</span> (currency_type)</li>
                        <li><span class="key required">account_name:</span> <span>"Michael Schmidt Personal Account"</span></li>
                        <li><span class="key required">opened:</span> <span>"2015-08-12"</span></li>
                        <li><span class="key required">balance:</span> <span>"120000.00"</span></li>
                        <li><span class="key required">status_code:</span> <span class="lookup">"1"</span> (account_status_type) - Active</li>
                      </ul>
                    </li>
                    <li><span class="key required">to_country:</span> <span class="lookup">"DE"</span> (country_type)</li>
                  </ul>
                </li>
                <li class="toggle">goods_services <span class="optional">(Opt.) (t_trans_item)</span>
                  <ul class="hidden">
                    <li><span class="key required">item_type:</span> <span class="lookup">"1"</span> (trans_item_type) - Motor Vehicle</li>
                    <li><span class="key required">description:</span> <span>"2024 BMW X5 Black"</span></li>
                    <li><span class="key required">estimated_value:</span> <span>"75000.00"</span></li>
                    <li><span class="key required">status_code:</span> <span class="lookup">"2"</span> (trans_item_status) - Sold</li>
                  </ul>
                </li>
                <li class="toggle">additional_info
                  <ul class="hidden">
                    <li><span class="key optional">purpose:</span> <span>"Business Payment"</span></li>
                    <li><span class="key optional">reference:</span> <span>"INV-2025-9987"</span></li>
                  </ul>
                </li>
              </ul>
            </li>
            <!-- Transaction 2 -->
            <li class="toggle">transaction
              <ul class="hidden">
                <li><span class="key required">transactionnumber:</span> <span>"TXN-2025-56790"</span></li>
                <li><span class="key optional">internal_ref_number:</span> <span>"BANK-REF-987655"</span></li>
                <li><span class="key optional">transaction_location:</span> <span>"Berlin Branch Office"</span></li>
                <li><span class="key optional">transaction_description:</span> <span>"Wire transfer for invoice payment"</span></li>
                <li><span class="key required">date_transaction:</span> <span>"2025-03-23T09:00:00"</span></li>
                <li><span class="key required">transmode_code:</span> <span class="lookup">"9"</span> (conduction_type) - Online Banking</li>
                <li><span class="key required">amount_local:</span> <span>"25000.00"</span></li>
                <li class="toggle">t_from_my_client
                  <ul class="hidden">
                    <li><span class="key required">from_funds_code:</span> <span class="lookup">"2"</span> (funds_type) - Deposit</li>
                    <!-- No foreign currency provided for this transaction -->                    
                    <li class="toggle">from_person (t_person_my_client)
                      <ul class="hidden">
                        <li><span class="key required">gender:</span> <span class="lookup">"F"</span> (gender_type)</li>
                        <li><span class="key required">first_name:</span> <span>"Laura"</span></li>
                        <li><span class="key required">last_name:</span> <span>"Müller"</span></li>
                        <li><span class="key required">birthdate:</span> <span>"1985-11-20"</span></li>
                        <li><span class="key required">nationality1:</span> <span class="lookup">"DE"</span> (country_type) - Germany</li>
                        <li><span class="key required">residence:</span> <span class="lookup">"DE"</span></li>
                        <li><span class="key required">occupation:</span> <span>"Accountant"</span></li>
                        <li class="toggle">phones (Multiple)
                          <ul class="hidden">
                            <li><span class="key required">tph_contact_type:</span> <span class="lookup">"1"</span> (contact_type) - Business</li>
                            <li><span class="key required">tph_number:</span> <span>"+49-160-9876543"</span></li>
                          </ul>
                        </li>
                        <li class="toggle">addresses (Multiple)
                          <ul class="hidden">
                            <li><span class="key required">address_type:</span> <span class="lookup">"1"</span> (contact_type) - Business</li>
                            <li><span class="key required">address:</span> <span>"Karl-Marx-Straße 15"</span></li>
                            <li><span class="key required">city:</span> <span>"Berlin"</span></li>
                            <li><span class="key required">country_code:</span> <span class="lookup">"DE"</span></li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li><span class="key required">from_country:</span> <span class="lookup">"DE"</span> (country_type)</li>
                  </ul>
                </li>
                <li class="toggle">t_to_my_client
                  <ul class="hidden">
                    <li><span class="key required">to_funds_code:</span> <span class="lookup">"1"</span> (funds_type) - Account</li>
                    <li class="toggle">to_account (t_account_my_client)
                      <ul class="hidden">
                        <li><span class="key required">institution_name:</span> <span>"Commerzbank"</span></li>
                        <li><span class="key required">branch:</span> <span>"Berlin"</span></li>
                        <li><span class="key required">account:</span> <span>"DE09876543210987654321"</span></li>
                        <li><span class="key required">currency_code:</span> <span class="lookup">"EUR"</span> (currency_type)</li>
                        <li><span class="key required">account_name:</span> <span>"Laura Müller Business Account"</span></li>
                        <li><span class="key required">opened:</span> <span>"2018-04-05"</span></li>
                        <li><span class="key required">balance:</span> <span>"85000.00"</span></li>
                        <li><span class="key required">status_code:</span> <span class="lookup">"1"</span> (account_status_type) - Active</li>
                      </ul>
                    </li>
                    <li><span class="key required">to_country:</span> <span class="lookup">"DE"</span> (country_type)</li>
                  </ul>
                </li>
                <li class="toggle">goods_services <span class="optional">(Opt.) (t_trans_item)</span>
                  <ul class="hidden">
                    <li><span class="key required">item_type:</span> <span class="lookup">"3"</span> (trans_item_type) - Aircraft</li>
                    <li><span class="key required">description:</span> <span>"Private Jet - Gulfstream"</span></li>
                    <li><span class="key required">estimated_value:</span> <span>"4500000.00"</span></li>
                    <li><span class="key required">status_code:</span> <span class="lookup">"2"</span> (trans_item_status) - Sold</li>
                  </ul>
                </li>
                <li class="toggle">additional_info
                  <ul class="hidden">
                    <li><span class="key optional">purpose:</span> <span>"Invoice Payment"</span></li>
                    <li><span class="key optional">reference:</span> <span>"INV-2025-1234"</span></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="toggle">activity <span class="required">(Multiple)</span>
          <ul class="hidden">
            <li class="toggle">report_party
              <ul class="hidden">
                <li><span class="key required">role:</span> <span class="lookup">"10"</span> (party_role_type) - Buyer</li>
                <li class="toggle">person (t_person)
                  <ul class="hidden">
                    <li><span class="key required">first_name:</span> <span>"Anna"</span></li>
                    <li><span class="key required">last_name:</span> <span>"Weber"</span></li>
                    <li><span class="key required">nationality1:</span> <span class="lookup">"DE"</span> (country_type)</li>
                    <li><span class="key required">residence:</span> <span class="lookup">"DE"</span></li>
                  </ul>
                </li>
                <li><span class="key required">country:</span> <span class="lookup">"DE"</span></li>
                <li><span class="key optional">comments:</span> <span>"Involved in high-value cash transaction"</span></li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="toggle">report_indicators <span class="required">(Multiple)</span>
          <ul class="hidden">
            <li><span class="key required">indicator:</span> <span class="lookup">"A1000"</span> (report_indicator_type) - Money Laundering</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>

  <script>
    // Attach click event to all elements with class 'toggle'
    document.querySelectorAll('li.toggle').forEach(function(item) {
      item.addEventListener('click', function(event) {
        // Prevent event from bubbling up to parent nodes
        event.stopPropagation();
        this.classList.toggle('open');
        let childUl = this.querySelector('ul');
        if (childUl) {
          childUl.classList.toggle('hidden');
        }
      });
    });
  </script>
</body>
</html>
